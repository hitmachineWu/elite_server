{% extends "layout.html" %}

{% block title %}ä¸ªäººæ”¶è— - å“å·¥é™¢æ•™è‚²å¤§æ¨¡å‹{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- ä¾§è¾¹å¯¼èˆªæ  -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>å“å·¥é™¢æ•™è‚²å¤§æ¨¡å‹</h2>
        </div>
        
        <div class="user-info">
            <div class="user-avatar">
                <span>{{ username[0].upper() }}</span>
            </div>
            <div class="user-name">{{ username }}</div>
        </div>
        
        <nav class="sidebar-nav">
            <ul>
                <li class="{% if request.path == url_for('new_chat') %}active{% endif %}">
                    <a href="{{ url_for('new_chat') }}">
                        <span class="icon">ğŸ’¬</span>
                        <span class="label">å¼€å¯æ–°å¯¹è¯</span>
                    </a>
                </li>
                <li class="{% if request.path == url_for('course_agents') %}active{% endif %}">
                    <a href="{{ url_for('course_agents') }}">
                        <span class="icon">ğŸ¤–</span>
                        <span class="label">è¯¾ç¨‹æ™ºèƒ½ä½“</span>
                    </a>
                </li>
                <li class="{% if request.path == url_for('favorites') %}active{% endif %}">
                    <a href="{{ url_for('favorites') }}">
                        <span class="icon">â­</span>
                        <span class="label">ä¸ªäººæ”¶è—</span>
                    </a>
                </li>
            </ul>
        </nav>
        
        <div class="sidebar-footer">
            <a href="{{ url_for('logout') }}" class="logout-btn">
                <span class="icon">ğŸšª</span>
                <span class="label">é€€å‡ºç™»å½•</span>
            </a>
        </div>
    </div>
    
    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="main-content">
        <div class="page-header">
            <h1>ä¸ªäººæ”¶è—</h1>
            <p>æ‚¨æ”¶è—çš„æ™ºèƒ½ä½“éƒ½åœ¨è¿™é‡Œ</p>
        </div>
        
        <div class="agents-grid">
            {% if agents %}
                {% for agent in agents %}
                <div class="agent-card">
                    <div class="agent-image">
                        <img src="{{ agent.image_url }}" alt="{{ agent.name }}">
                    </div>
                    <div class="agent-content">
                        <h3>{{ agent.name }}</h3>
                        <p>{{ agent.description }}</p>
                        <div class="agent-actions">
                            <a href="{{ url_for('view_agent', agent_id=agent.id) }}" class="btn btn-primary">æ‰“å¼€å¯¹è¯</a>
                            <button class="btn btn-favorite active" data-agent-id="{{ agent.id }}">
                                <span class="icon">â˜…</span> å–æ¶ˆæ”¶è—
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="empty-state">
                    <div class="empty-icon">â­</div>
                    <h3>æš‚æ— æ”¶è—</h3>
                    <p>æ‚¨è¿˜æ²¡æœ‰æ”¶è—ä»»ä½•æ™ºèƒ½ä½“ï¼Œå¯ä»¥åœ¨"è¯¾ç¨‹æ™ºèƒ½ä½“"é¡µé¢æ‰¾åˆ°å¹¶æ”¶è—æ„Ÿå…´è¶£çš„æ™ºèƒ½ä½“ã€‚</p>
                    <a href="{{ url_for('course_agents') }}" class="btn btn-primary">æµè§ˆæ™ºèƒ½ä½“</a>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}